# Ativa o módulo de reescrita de URLs
RewriteEngine On

# Redireciona o tráfego de HTTP para HTTPS
RewriteCond %{HTTPS} off
RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

# Remove a extensão .html dos URLs
RewriteCond %{REQUEST_FILENAME} !-f
RewriteRule ^([^\.]+)$ $1.html [NC,L]

# Redireciona URLs sem www para URLs com www
RewriteCond %{HTTP_HOST} !^www\. [NC]
RewriteRule ^(.*)$ https://www.%{HTTP_HOST}%{REQUEST_URI} [L,R=301]

# Redireciona URLs com barras duplas para barras únicas
RewriteCond %{REQUEST_URI} ^(.*)//(.*)$
RewriteRule . %1/%2 [R=301,L]

# Define o tipo de arquivo padrão para index.html
DirectoryIndex index.html

# Impede o acesso direto aos arquivos .htaccess e .htpasswd
<FilesMatch "^\.ht">
    Order Allow,Deny
    Deny from all
</FilesMatch>

# Impede o acesso direto ao arquivo de senha .htpasswd
<Files ".htpasswd">
    Require all denied
</Files>